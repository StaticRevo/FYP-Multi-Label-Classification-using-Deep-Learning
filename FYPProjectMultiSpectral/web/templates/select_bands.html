{% extends "base.html" %}
{% block title %}Select Bands{% endblock %}
{% block content %}
  <h1>Select Bands for Prediction</h1>
  <p>The uploaded image has more bands than required (expected {{ expected_count }}). Please select exactly {{ expected_count }} band(s) from the available list:</p>
  
  <form method="post" action="{{ url_for('select_bands') }}">
    <!-- Pass along file path and experiment as hidden inputs -->
    <input type="hidden" name="file_path" value="{{ file_path }}">
    <input type="hidden" name="filename" value="{{ filename }}">
    <input type="hidden" name="experiment" value="{{ experiment }}">
    
    <div class="mb-3">
      <label for="bandsSelect" class="form-label">Select Bands</label>
      <select id="bandsSelect" name="selected_bands" class="form-select" multiple required>
        {% for band in available_bands %}
          <option value="{{ band }}">Band {{ band }}</option>
        {% endfor %}
      </select>
      <small class="form-text text-muted">Hold down Ctrl (Windows) or Cmd (Mac) to select multiple bands. Please select exactly {{ expected_count }} band(s).</small>
    </div>
    
    <button type="submit" class="btn btn-primary">Continue</button>
  </form>
{% endblock %}
